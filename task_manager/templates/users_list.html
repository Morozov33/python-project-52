{% extends "base.html" %}
{% load i18n %}

{% block content %}

{% translate "Users list" as list %}
{% translate "Create task" as task %}
{% translate "Only my task" as my_task %}
{% translate "ID" as id %}
{% translate "First name" as first_name %}
{% translate "Last name" as last_name %}
{% translate "Email" as email %}
{% translate "Username" as username %}
{% translate "Date create" as date_ %}
{% translate "Update" as update %}
{% translate "Delete" as delete %}

<h3 class="my-4">{{ list }}:</h3>

<table class="table table-striped">
  <thead>
    <tr>
        <th>{{ id }}</th>
        <th>{{ first_name }}</th>
        <th>{{ last_name }}</th>
        <th>{{ email }}</th>
        <th>{{ username }}</th>
        <th>{{ date_ }}</th>
        <th></th>
    </tr>
  </thead>
  <tbody>

    {% for person in users_list %}
    {% if not person.is_staff %}
        <tr>
            <td>{{ person.id }}</td>
            <td>{{ person.first_name }}</td>
            <td>{{ person.last_name }}</td>
            <td>{{ person.email }}</td>
            <td>{{ person.username }}</td>
            <td>{{ person.date_joined }}</td>
            {% if user.is_authenticated and user.username == person.username %}
                <td>
                    <a href="/users/{{ user.id }}/update/">{{ update }}</a>
                    <br>
                    <a href="/users/{{ user.id }}/delete/">{{ delete }}</a>
                </td>
            {% else %}
                <td></td>
            {% endif %}
        </tr>
    {% endif %}
    {% endfor %}

  </tbody>
</table>

{% endblock %}
